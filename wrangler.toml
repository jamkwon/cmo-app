# Cloudflare Pages Configuration for CMO App
name = "cmo-app"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]
pages_build_output_dir = "."

# Build configuration for Cloudflare Pages
[build]
command = "npm run build:cloudflare"
publish = "."

# Pages configuration
[env.production]
name = "cmo-app"
compatibility_date = "2024-12-01"

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "cmo-app-db"
database_id = "cefb01d4-74a7-4a99-902c-106aed03d654"

[[env.production.d1_databases]]
binding = "DB"
database_name = "cmo-app-db"
database_id = "cefb01d4-74a7-4a99-902c-106aed03d654"

[env.preview]
name = "cmo-app-preview"
compatibility_date = "2024-12-01"

[[env.preview.d1_databases]]
binding = "DB"
database_name = "cmo-app-db-preview"
database_id = "placeholder-preview-database-id"

# Build configuration removed for Pages compatibility