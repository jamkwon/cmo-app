# Cloudflare Pages Configuration for CMO App
name = "cmo-app"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

# Pages configuration
[env.production]
name = "cmo-app"
compatibility_date = "2024-12-01"

# D1 Database binding
[[env.production.d1_databases]]
binding = "DB"
database_name = "cmo-app-db"
database_id = "placeholder-database-id"

[env.preview]
name = "cmo-app-preview"
compatibility_date = "2024-12-01"

[[env.preview.d1_databases]]
binding = "DB"
database_name = "cmo-app-db-preview"
database_id = "placeholder-preview-database-id"

# Build configuration
[build]
command = "npm run build"
cwd = "."

[build.upload]
format = "modules"